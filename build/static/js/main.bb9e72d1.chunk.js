(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(40)},22:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(14),o=t.n(l),c=(t(22),t(4)),u=t(15),i=t(1),d=t(3),s=t.n(d),h="http://localhost:3001/data",m=function(){return s.a.get(h).then(function(e){return e.data})},f=function(e){return s.a.post(h,e).then(function(e){return e.data})},p=function(e){return s.a.delete("".concat(h,"/").concat(e))},g=function(e,n){return s.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},E=function(e){var n=e.onChangeHandler;return r.a.createElement("p",null,"Filter show with",r.a.createElement("input",{onChange:n}))},v=function(e){var n=e.onSubmitHandler,t=e.newID,a=e.onChangeIDHandler,l=e.newAuthor,o=e.onChangeAuthorHandler,c=e.newTitle,u=e.onChangeTitleHandler,i=e.newJournal,d=e.onChangeJournalHandler,s=e.newYear,h=e.onChangeYearHandler,m=e.newEprint,f=e.onChangeEprintHandler,p=e.newEprinttype,g=e.onChangeEprinttypeHandler,E=e.newEprintclass,v=e.onChangeEprintclassHandler,b=e.newPages,j=e.onChangePagesHandler,C=e.newMonth,w=e.onChangeMonthHandler,O=e.newAnnote,H=e.onChangeAnnoteHandler;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"ID:",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"Author:",r.a.createElement("input",{value:l,onChange:o})),r.a.createElement("div",null,"Title:",r.a.createElement("input",{value:c,onChange:u})),r.a.createElement("div",null,"Journal:",r.a.createElement("input",{value:i,onChange:d})),r.a.createElement("div",null,"Year:",r.a.createElement("input",{value:s,onChange:h})),r.a.createElement("div",null,"Eprint:",r.a.createElement("input",{value:m,onChange:f})),r.a.createElement("div",null,"Eprinttype:",r.a.createElement("input",{value:p,onChange:g})),r.a.createElement("div",null,"Eprintclass:",r.a.createElement("input",{value:E,onChange:v})),r.a.createElement("div",null,"Page:",r.a.createElement("input",{value:b,onChange:j})),r.a.createElement("div",null,"Month:",r.a.createElement("input",{value:C,onChange:w})),r.a.createElement("div",null,"Annote:",r.a.createElement("input",{value:O,onChange:H})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},b=function(e){var n=e.datas,t=e.onDelete;return r.a.createElement(r.a.Fragment,null,n.map(function(e){return r.a.createElement("p",{key:e.id},e.author," ",e.title,e.journal,e.year,e.eprint,e.eprinttype,e.eprintclass,e.pages,e.month,e.annote,r.a.createElement("button",{onClick:function(){return n=e.id,a=e.title,void(window.confirm("Delete ".concat(a,"?"))&&t(n));var n,a}},"delete"))}))},j=function(e){var n=e.message,t=e.type;return null===n?null:"error"===t?r.a.createElement("div",{className:"notification error"},n):r.a.createElement("div",{className:"notification"},n)},C=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],l=n[1],o=Object(a.useState)(""),d=Object(i.a)(o,2),s=d[0],h=(d[1],Object(a.useState)("")),C=Object(i.a)(h,2),w=C[0],O=C[1],H=Object(a.useState)(""),y=Object(i.a)(H,2),S=y[0],A=y[1],T=Object(a.useState)(""),D=Object(i.a)(T,2),J=D[0],I=D[1],M=Object(a.useState)(""),P=Object(i.a)(M,2),Y=P[0],k=P[1],L=Object(a.useState)(""),F=Object(i.a)(L,2),N=F[0],x=F[1],B=Object(a.useState)(""),q=Object(i.a)(B,2),z=q[0],G=q[1],K=Object(a.useState)(""),Q=Object(i.a)(K,2),R=Q[0],U=Q[1],V=Object(a.useState)(""),W=Object(i.a)(V,2),X=W[0],Z=W[1],$=Object(a.useState)(""),_=Object(i.a)($,2),ee=_[0],ne=_[1],te=Object(a.useState)(""),ae=Object(i.a)(te,2),re=ae[0],le=ae[1],oe=Object(a.useState)(""),ce=Object(i.a)(oe,2),ue=ce[0],ie=ce[1],de=Object(a.useState)(!0),se=Object(i.a)(de,2),he=se[0],me=se[1],fe=Object(a.useState)(null),pe=Object(i.a)(fe,2),ge=pe[0],Ee=pe[1],ve=Object(a.useState)(null),be=Object(i.a)(ve,2),je=be[0],Ce=be[1];Object(a.useEffect)(function(){m().then(function(e){l(e)})},[]);var we=he?t:t.filter(function(e){var n=e.title.toLocaleLowerCase(),t=ue.toLowerCase();return n.includes(t)});return r.a.createElement("div",null,r.a.createElement("h2",null,"Data"),r.a.createElement(j,{message:ge}),r.a.createElement(j,{type:"error",message:je}),r.a.createElement(E,{onChangeHandler:function(e){ie(e.target.value),me(!1)}}),r.a.createElement("h2",null,"Add a new"),r.a.createElement(v,{onSubmitHandler:function(e){e.preventDefault();var n=t.filter(function(e){return e.name.includes(S)});1===n.length?window.confirm("".concat(S," is already added to database, replace the old data with a new one?"))&&g(n[0].id,Object(u.a)({},n[0],{title:S})).then(function(e){var n=t.filter(function(n){return n.id!==e.id});n=[].concat(Object(c.a)(n),[e]),l(n),A(""),O(""),I(""),k(""),x(""),G(""),U(""),Z(""),ne(""),le(""),Ee("Added ".concat(e.title)),setTimeout(function(){Ee(null)},2e3)}).catch(function(e){Ce("Information of ".concat(S," has already been removed from server")),setTimeout(function(){Ce(null)},5e3)}):f({author:w,title:S,journal:J,year:Y,eprint:N,eprinttype:z,eprintclass:R,pages:X,month:ee,annote:re}).then(function(e){var n;n=s,void 0!==t.find(function(e){return e.title===n})?alert("".concat(s," is already added to database")):l([].concat(Object(c.a)(t),[{author:w,title:S,journal:J,year:Y,eprint:N,eprinttype:z,eprintclass:R,pages:X,month:ee,annote:re}])),Ee("Added ".concat(S)),setTimeout(function(){Ee(null)},2e3),A(""),O(""),I(""),k(""),x(""),G(""),U(""),Z(""),ne(""),le("")}).catch(function(e){Ce("Information of ".concat(S," has already been removed from server")),setTimeout(function(){Ce(null)},5e3)})},newTitle:S,onChangeTitleHandler:function(e){A(e.target.value)},newAuthor:w,onChangeAuthorHandler:function(e){O(e.target.value)},newJournal:J,onChangeJournalHandler:function(e){I(e.target.value)},newYear:Y,onChangeYearHandler:function(e){k(e.target.value)},newEprint:N,onChangeEprintHandler:function(e){x(e.target.value)},newEprinttype:z,onChangeEprinttypeHandler:function(e){G(e.target.value)},newEprintClass:R,onChangeEprintclassHandler:function(e){U(e.target.value)},newPages:X,onChangePagesHandler:function(e){Z(e.target.value)},newMonth:ee,onChangeMonthHandler:function(e){ne(e.target.value)},newAnnote:re,onChangeAnnoteHandler:function(e){le(e.target.value)}}),r.a.createElement("h2",null,"datas"),r.a.createElement(b,{datas:we,onDelete:function(e){p(e).then(function(){var n=t.filter(function(n){return n.id!==e});l(n)})}}))};o.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.bb9e72d1.chunk.js.map